-- Database: rest_school

-- DROP DATABASE IF EXISTS rest_school;
create table groups(
 id  int primary key generated by default as identity ,
name varchar(32)
);
create table student(
 id int primary key generated by default as identity ,
name varchar(32) ,
lastname varchar(32) ,
email varchar(32) ,
year int ,
username varchar(32) ,
password varchar(32) ,
role varchar(32) ,
group_id int references groups(id) on delete set null ,
code varchar(64) );

create table teacher(
id int primary key generated by default as identity ,
name varchar(32) ,
lastname varchar(32) ,
email varchar(32) ,
year int );

create table subject(
id  int primary key generated by default as identity ,
name varchar(32) ,
description varchar(255) ,
teacher_id int references teacher(id) on delete set null);

create table enrolled_students(
student_id int references student(id) on delete set null ,
subject_id int references subject(id)  on delete set null);